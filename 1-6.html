<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>문자열 검색</title>
    <style>
    .found{
        background-color: #ff0;
    }
    </style>
</head>
<body>
    <form id="textsearch">
        <textarea id="incoming" cols="150" rows="10">
 The  one two three leave, hive, leaf Discover interesting projects and people to populate your personal news feed.
 Your news feed helps you keep up with recent activity on repositories you watch and people you follow.
        </textarea>
        <p>
            Search pattern: <input id="pattern" type="text"/>
        </p>
    </form>
        <button id="searchSubmit">Search for pattern</button>
        <div id="searchResult"></div>
        <script>
            document.getElementById("searchSubmit").onclick=function(){
                //alert("click");
                //패턴 구하기
                var pattern = document.getElementById("pattern").value;
                var re = new RegExp(pattern, "g");

                //문자열 구하기
                var searchString = document.getElementById("incoming").value;
                var matchArray;
                var resultString = "<pre>";
                var first=0;
                var last=0;


                //각각의 일치하는 부분 검색
                while ((matchArray = re.exec(searchString)) != null) {
                    last = matchArray.index;

                    //일치하는 모든 문자열을 연결
                    resultString += searchString.substring(first, last);

                    //일치하는 부분에 클래스 추가
                    resultString += "<span class='found'>" + matchArray[0] + "</span>";
                    first = re.lastIndex;
                }

                //문자열종료
                resultString += searchString.substring(first,searchString.length);
                resultString += "</pre>";

                //page삽입
                document.getElementById("searchResult").innerHTML = resultString;
                //event.preventDefault(); 
                /*
                preventDefault () 메서드는 취소 가능한 경우 이벤트를 취소합니다. 즉, 이벤트에 속한 기본 액션이 발생하지 않습니다.

                예를 들어 다음과 같은 경우에 유용 할 수 있습니다.

                '제출'버튼을 클릭하면 양식 제출이 차단됩니다.
                링크를 클릭하면 링크가 URL을 따르지 않습니다.
                */

                //문자열 단어 교환
                var name = "Abe Lincoln";
                var re = /^(\w+)\s(\w+)$/;
                var newname = name.replace(Re, "$2, $1");

                alert(newname);
            }
        </script>

</body>
</html>